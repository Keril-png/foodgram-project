{% extends "base.html" %}
{% load user_filters %}
{% load static %}
{% load cache %}
{% block title %}Последние обновления {{ author.username }}{% endblock %}
{% block header %}{{ author }}{% endblock %}
{% block content %}
    {% load sub_funcs %}
    <main class="main container">
        {% csrf_token %}
        
        <div class="author-subscribe" data-author="{{ author.id }}">
            <p style="padding: 0 0 2em 0;">
                    {% if author.username != request.user.username and user.is_authenticated%} 
                        {% include 'includes/follow_button.html' with author=author %}
                    {% endif %}
                
            </p>
        </div>
        <div class="card-list">
            {% for item in page %}
                {% include "includes/item_card.html" with item=item %}
            {% endfor %}
        </div>
        {% if page %}
            {% include "includes/pagination.html" with items=page paginator=paginator %}
        {% endif %}
    </main>
{% endblock %}

{% block js %}
    <script src="/static/js/components/MainCards.js"></script>

    <script src="/static/js/components/Purchases.js"></script>
    <script src="/static/js/components/Favorites.js"></script>
    <script src="/static/js/components/Subscribe.js"></script>

    <script src="/static/js/config/config.js"></script>
    <script src="/static/js/components/AuthorRecipe.js"></script>
    <script src="/static/js/components/Header.js"></script>

    <script src="/static/js/api/Api.js"></script>
    <script src="/static/authorRecipe.js"></script>
{% endblock %}